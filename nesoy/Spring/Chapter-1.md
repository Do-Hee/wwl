# 오브젝트와 의존관계
- 스프링이 가장 관심을 많이 두는 대상은 오브젝트
- Life Cycle : 생성 -> 관계를 맺고 -> 사용 -> 소멸

#### DAO(Data Access Object)
- DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 Object

#### JavaBean
##### Default Constructor
- 자바빈은 파라미터가 없는 Default Constructor를 갖고 있어야 한다.
- Reflection을 이용해 Object를 생성하기 때문에 필요하다.

##### Property
- 자바빈이 노출하는 이름을 가진 속성을 Property라고 한다.
- setter, getter로 수정 및 조회가 가능하다.


## 1.1 초난감 DAO
> 하나의 Method안에 모두 존재.

1. DB 연결을 위한 Connection을 가져온다
2. SQL을 담은 Statement, PreparedStatement를 만든다
3. 실행 후 결과를 ResultSet으로 받는다
4. Connect, Statement, ResultSet를 닫아준다
5. 실행 중 발생한 Exception을 잡아서 직접 처리하거나 throws로 던진다


## 1.2 DAO의 분리
### 관심사의 분리
- 객체지향의 세계에서는 모든 것이 변한다.
- 객체를 설계할 때 가장 염두에 둬야 할 사항은 바로 미래의 변화를 어떻게 대비할 것인가?
- 관심이 같은 것끼리는 모으고, 관심이 다른 것은 따로 떨어져 있게 하는것.

### UserDao의 관심사항
- 어떤 DB를 쓸까? 어떤 드라이버를 사용할까하는 관심.
- Statement를 만들고 실행하는 것는 관심.
- Statement와 Connection Object 자원을 반환하는 관심.

#### Refactoring
- 기존의 코드를 외부의 동작방식에는 변화 없이 내부 구조를 변경해서 재구성하는 작업 또는 기술.


#### Template Method Pattern
- 슈퍼클래스에 기본적인 로직의 흐름을 만들고 그 기능의 일부를 추상 메소드나 오버라이딩이 가능한 protected 메소드등으로 만든 뒤 서브클래스에서 이런 메소드를 필요에 맞게 구현해서 사용하도록 하는 방법
#### Factory method Pattern
- 오브젝트를 어떻게 생성할 것인지를 결정하는 방법

## 1.3 DAO의 확장
### 상속의 문제
- 상속을 통해 관심이 다른 기능을 분리하고, 필요에 따라 다양한 변신이 가능하도록 확장성도 줬지만 `상속관계는 긴밀한 결합을 허용`

### Interface의 도입
> 추상화란 어떤 것들의 공통적인 성격을 뽑아내어 이를 따로 분리해내는 작업.


### Object 간의 관계는 어떻게 만들어 줄까?
- 직접 생성자를 호출해서 직접 오브젝트를 만드는 방법
- 외부에서 만들어 준 것을 가져오는 방법도 있다.(Method Parameter)
- code level에서 특정 클래스를 전혀 알지 못하더라도 해당 클래스가 구현한 인터페이스를 사용했다면, 그 클래스의 오브젝트를 인터페이스 타입으로 받아서 사용할 수 있다. 바로 다형성이라는 특징이 있기 때문이다.
- 오브젝트 관계를 `런타임`에 만들어주는 방식이다.


### OCP
- 클래스나 모듈은 확장에는 열려 있어야 하며 변경에는 닫혀있어야 한다.


### 높은 응집도
- 응집도가 높다는 것은 변화가 일어날 때 해당 모듈에서 변하는 부분이 크다는 것으로 설명할 수도 있다.

### 낮은 결합도
- 하나의 오브젝트가 변경이 일어날 떄에 관계를 맺고 있는 다른 오브젝트에게 변화를 요구하는 정도

## 1.4 제어의 역전(Ioc)
- IoC(Inversion of Control)
- 제어의 흐름의 개념을 거꾸로 뒤집는 것이다.
- 오브젝트가 자신이 사용할 오브젝트를 스스로 선택하지 않는다. 당연히 생성하지도 않는다.
- 자신도 어떻게 만들어지고 어디서 사용되는지를 알 수 없다.
- 모든 제어 권한을 자신이 아닌 다른 대상에게 위임하기 때문이다.
### 라이브러리 vs 프레임워크
- 라이브러리를 사용하는 애플리케이션 코드는 애플리케이션 흐름을 직접 제어한다.
    - 단지 동작하는 중에 필요한 기능이 있을 때 능동적으로 라이브러리를 사용할 뿐이다.
- 프레임워크는 애플리케이션 코드가 프레임워크에 의해 사용된다.
    - 프레임워크가 흐름을 주도하면서 개발자가 만든 어플리케이션 코드를 사용하도록 만드는 방식