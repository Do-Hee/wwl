# 테스트
- 객체지향과 테스트
- 테스트란 결국 내가 예상하고 의도했던 대로 코드가 정확히 동작하는지를 확인해서, 만든 코드를 확신할 수 있게 해주는 작업이다.
- 테스트는 가능하면 작은 단위로 쪼개서 집중해서 할 수 있어야 한다.

#### 단위 테스트
- 작은 단위의 코드에 대해 테스트를 수행한 것
- 충분히 하나의 관심에 집중해서 효율적으로 테스트할 만한 범위의 단위라고 보면 된다.
- DB의 상태가 매번 달라지고, 테스트를 위해 DB를 특정 상태로 만들어줄 수 없다면 그때는 단위 테스트로서 가치가 없어진다.
    - 외부의 리소스에 의존하는 테스트는 단위 테스트가 아니라고 보기도 하는 것이다.
- 개발자가 설계하고 만든 코드가 원래 의도한 대로 동작하는지를 개발자 스스로 빨리 확인받기 위해서이다.

#### 자동수행 테스트 코드
- 테스트는 자동으로 수행되고 빠르게 수행되어야 한다.
- 재빨리 확인하고, 수정하는 Cycle이 중요하다.


#### UserDaoTest 번거로움
- 사람의 눈으로 확인하는 과정이 아닌 테스트 코드로 결과도 자동으로 확인하기

#### Build Tool
- 빌드 스크립트를 이용해 Junit 테스트를 실행하고 그 결과를 메일 등으로 통보받는 방법을 사용하면 된다.


- Junit은 특정한 테스트 메소드의 실행 순서를 보장해주지 않는다.
- 테스트의 결과가 테스트 실행 순서에 영향을 받는다면 테스트를 잘못 만든 것이다.
- 개발자가 테스트를 직접 만들 때 자주 하는 실수가 하나 있다.
- 바로 성공하는 테스트만 골라서 만드는 것이다.
    - 항상 Negative Test를 먼저 만들라. - Spring 창시자 로드 존슨
    - 테스트를 작성할 때 부정적인 케이스를 먼저 만드는 습관을 들이는게 좋다.

#### TestCode에 나타난 기능
- 조건
- 행위
- 결과

## TDD(Test Driven Development)
- 실패한 테스트를 성공시키기 위한 목적이 아닌 코드는 만들지 않는다.
- Cycle을 가능한 짧게 가져가도록 권장한다.
    - 테스트를 자주 하기 귀찮을 테고 테스트는 점점 뒤로 미뤄질 것이다.
- 개발한 코드의 오류는 빨리 발견할수록 좋다.
    - 빨리 발견된 오류는 쉽게 대응이 가능하기 때문이다.
- 어플리케이션 코드만이 리팩토링의 대상은 아니다.

## JUnit
- <https://nesoy.github.io/articles/2017-02/JUnit>

### Fixture
- 테스트를 수행하는 데 필요한 정보나 오브젝트를 Fixture라고 한다.
- 일반적으로 여러 테스트에서 반복적으로 사용되기 때문에 @Before 메소드를 이용해 생성해두면 편리하다.